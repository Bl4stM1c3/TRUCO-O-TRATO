#Posible solucion al ejercicio 44 de https://retosdeprogramacion.com/ejercicios
#Este es un reto especial por Halloween.
# * Deberemos crear un programa al que le indiquemos si queremos realizar "Truco
# * o Trato" y un listado (array) de personas con las siguientes propiedades:
# * - Nombre de la ni침a o ni침o
# * - Edad
# * - Altura en cent칤metros
# *
# * Si las personas han pedido truco, el programa retornar치 sustos (aleatorios)
# * siguiendo estos criterios:
# * - Un susto por cada 2 letras del nombre por persona
# * - Dos sustos por cada edad que sea un n칰mero par
# * - Tres sustos por cada 100 cm de altura entre todas las personas
# * - Sustos: 游꾺 游놑 游 游동 游돚 游붆
#*
# * Si las personas han pedido trato, el programa retornar치 dulces (aleatorios)
# * siguiendo estos criterios:
# * - Un dulce por cada letra de nombre
# * - Un dulce por cada 3 a침os cumplidos hasta un m치ximo de 10 a침os por persona
# * - Dos dulces por cada 50 cm de altura hasta un m치ximo de 150 cm por persona
# * - Dulces: 游꼻 游꼷 游꼬 游꼸 游꼵 游꼶 游븨 游꼴
# * - En caso contrario retornar치 un error.

import random

def halloween(accion, array):
  #Declaramos las variables
  sustos = ["游꾺", "游놑", "游", "游동", "游돚", "游붆"]
  dulces = ["游꼻", "游꼷", "游꼬", "游꼸", "游꼵", "游꼶", "游븨", "游꼴"]
  nombres = ""
  edades = []
  alturas = []

  #Extraemos informacion del array
  for ni침o in array:
    nombres += ni침o["Nombre]
    nombres_sin_espacios = "".join(nombres.split()) #Eliminamos los espacios para el caso de nombres compuestos como Jose Manuel
    edades.append(ni침o["Edad"])
    alturas.append(ni침o["Altura"])

  #Resolvemos el problema
  if accion == "truco":
    #Calculamos el numero de sustos
    cantidad_sustos = 1*(len(nombres_sin_espacios)//2) + 2 * (len([edad for edad in edades if edad//2])) + 3 * (sum(alturas)//100)
    return random.choice(sustos, k=cantidad_sustos)

  elif accion == "trato":
    #Calculamos el numero de dulces
    cantidad_dulces = 1*(len(nombres_sin_espacios)) + 1 * (sum([min(edad//3,10) for edad in edades])) + 2 * (sum([min(altura//50, 150) for altura in alturas]))
    return random.choice(dulces, k=cantidad_dulces)
  else:
    return "Por favor, introduzca una accion v치lida: 'truco' o 'trato'"


#EJEMPLO DE USO
array = [
    {"Nombre":"Ataulfo", "Edad":10, "Altura":120},
    {"Nombre":"Flautista", "Edad":9, "Altura":105},
    {"Nombre":"Rudolf", "Edad":10, "Altura":110},
    {"Nombre":"Luis Javier", "Edad":10, "Altura":135}
    
]

halloween("truco", array)
